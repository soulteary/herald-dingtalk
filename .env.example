# herald-dingtalk - DingTalk notification adapter for Herald
# Herald calls this service via HTTP; all DingTalk credentials live here only.

# Listen port. Can be with or without leading colon (e.g. 8083 or :8083).
PORT=:8083
LOG_LEVEL=info

# Optional: API key for callers. If set, Herald must send X-API-Key with this value;
# configure Herald with HERALD_DINGTALK_API_KEY set to the same value.
# API_KEY=

# DingTalk enterprise internal app (work notification).
# Get these from DingTalk Open Platform: https://open.dingtalk.com
# Application Management -> Your App -> AppKey, AppSecret; add Agent and copy AgentID.
DINGTALK_APP_KEY=
DINGTALK_APP_SECRET=
DINGTALK_AGENT_ID=

# Destination lookup: none = to is userid only; mobile = to supports userid or 11-digit mobile (requires Contact.User.mobile permission).
# DINGTALK_LOOKUP_MODE=none

# Idempotency cache TTL in seconds. Same idempotency_key (header or body) within
# this window returns cached response without calling DingTalk again.
IDEMPOTENCY_TTL_SECONDS=300
